# ADR-001: 技术栈选型

| 字段 | 内容 |
|------|------|
| 编号 | ADR-001 |
| 日期 | 2026-02-17 |
| 状态 | 已接受 |
| 决策人 | 唐伯虎（业主） + Claude AI（执行） |

## 背景

本项目全程由 Claude AI 编写代码，业主唐伯虎仅做方向把控和规范审核。
需要选择一套 AI 能高质量生成、人工易于审核的技术组合。

## 决策

### 后端
- **运行时**: Node.js v22
- **框架**: Express ^4.18
- **ORM**: Sequelize v6（见 ADR-003）
- **数据库**: MySQL 8.0
- **认证**: JWT（jsonwebtoken ^9.0）
- **验证**: Joi ^17
- **日志**: Winston ^3
- **安全**: Helmet + CORS
- **测试**: Jest + Supertest

### 前端
- **框架**: UniApp（Vue3，HBuilderX v4.76）
- **状态管理**: Pinia
- **目标平台**: Android + iOS + H5

### 语言
- **JavaScript ES6+**（不使用 TypeScript）

## 备选方案

| 方案 | 拒绝理由 |
|------|----------|
| TypeScript | AI生成TS代码错误率更高；业主审核难度增加；项目初期不需要 |
| Prisma ORM | 对AI而言生成准确度不如Sequelize；需要额外schema文件 |
| TypeORM | 专为TS设计，JS模式限制多 |
| Koa | 中间件生态不如Express成熟 |
| Vuex | Vue3时代已被Pinia取代 |

## 后果

**正面影响**：
- Sequelize `underscored: true` 自动解决字段命名不一致问题
- JavaScript 生成代码质量更稳定，业主更易审核
- UniApp 一套代码覆盖三端，减少重复工作

**负面影响**：
- 无编译期类型检查，需要靠 Joi 运行时验证弥补
- 后期项目规模扩大时可能需要迁移到 TypeScript
